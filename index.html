<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieHub</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/main.css">
</head>
<body>
    <div class="container">
        <div id="header" class="header"></div>
        <div class="main-content" id="mainContent"></div>
        
        <!-- Popular Movies Section -->
        <section class="popular-movies">
            <h2>Новинки фильмов</h2>
            <div class="movie-gallery" id="movieGallery"></div>
        </section>
        
        <!-- Trending TV shows Section -->
        <section class="trending-shows">
            <h2>Новинки сериалов</h2>
            <div class="tvshow-gallery" id="tvShowGallery"></div>
        </section>

        <!-- Popular Cartoons Section -->
        <section class="popular-cartoons">
            <h2>Популярные мультфильмы</h2>
            <div class="cartoon-gallery" id="cartoonGallery"></div>
        </section>

        <!-- Popular Categories Section -->
        <div class="popular-categories">
            <div class="categories">
                <div class="category-card" data-title="Сериалы" style="background-image: url('https://.../tv-shows.jpg');"></div>
                <div class="category-card" data-title="Мультфильмы" style="background-image: url('https://.../cartoons.jpg');"></div>
                <div class="category-card" data-title="Marvel" style="background-image: url('https://.../marvel.jpg');"></div>
                <div class="category-card" data-title="Фильмы" style="background-image: url('https://.../movies.jpg');"></div>
            </div>
            <div class="info-section">
                <h2>Популярные категории</h2>
                <p>Весь контент в MovieHub разделен на несколько категорий, что позволяет легко перемещаться между ними и находить то, что вам нравится</p>
                <a href="#" class="view-all-btn">Посмотреть</a>
            </div>
        </div>

        <div id="footer" class="footer"></div>
        <div id="registerModal" class="modal">
            <div class="modal-content">
                <div class="form-structor">
                    <div class="signup">
                        <h2 class="form-title" id="signup">Регистрация</h2>
                        <div class="form-holder">
                            <input type="text" class="input" placeholder="Name" />
                            <input type="email" class="input" placeholder="Email" />
                            <input type="password" class="input" placeholder="Password" />
                        </div>
                        <button class="submit-btn">Зарегистрироваться</button>
                    </div>
                    <div class="login slide-up">
                        <div class="center">
                            <h2 class="form-title" id="login">Вход</h2>
                            <div class="form-holder">
                                <input type="email" class="input" placeholder="Email" />
                                <input type="password" class="input" id="password" placeholder="Password" />
                            </div>
                            <button class="submit-btn">Войти</button>
                        </div>
                    </div>
                </div>
                <button id="closeModal" class="close-modal-btn">&times;</button>
            </div>
        </div>
    </div>
    <script>
        // Функция загрузки данных из JSON
        async function loadMedia() {
            const response = await fetch('media.json');
            const media = await response.json();
            
            const mainContent = document.getElementById('mainContent');
            const movieGallery = document.getElementById('movieGallery');
            const tvShowGallery = document.getElementById('tvShowGallery');
            const cartoonGallery = document.getElementById('cartoonGallery');
            
            media.forEach((item, index) => {
                const mediaHTML = `
                    <div class="text-section">
                        <div class="metadata">
                            <span>${item.country}</span>
                            <span>|</span>
                            <span>${item.date}</span>
                            <span>|</span>
                            <span>${item.rating}</span>
                        </div>
                        <h1>${item.title}</h1>
                        <p>${item.description}</p>
                        <a href="${item.trailer_link}" class="watch-btn">Трейлер</a>
                    </div>
                    <div class="image-section">
                        <img src="${item.img}" alt="${item.title}">
                    </div>
                `;
                
                const mediaBlock = document.createElement('div');
                mediaBlock.className = 'main-content';
                mediaBlock.innerHTML = mediaHTML;

                if (index === 0) {
                    mainContent.appendChild(mediaBlock);
                }

                const galleryItem = `
                    <div class="media-item">
                        <img src="${item.img}" alt="${item.title}">
                        <h3>${item.title}</h3>
                    </div>
                `;
                
                if (item.type === 'movie') {
                    movieGallery.innerHTML += galleryItem;
                } else if (item.type === 'tvshow') {
                    tvShowGallery.innerHTML += galleryItem;
                } else if (item.type === 'cartoon') {
                    cartoonGallery.innerHTML += galleryItem;
                }
            });
        }

        // Загрузка хедера и футера
        fetch('header.html')
            .then(response => response.text())
            .then(data => document.getElementById('header').innerHTML = data);
        
        fetch('footer.html')
            .then(response => response.text())
            .then(data => document.getElementById('footer').innerHTML = data);
        
        // Загрузка медиа данных
        loadMedia();
    </script>
    <script type="module" src="js/main.js"></script>
</body>
</html>


